<v-dialog v-if="!pageData.bHidden" width="730" v-model="pageData.bShow" :retain-focus="false" :fullscreen="$xsOnly" persistent>
    <v-card class="rounded10" :color="!$xsOnly ? 'bgBanner' : 'bgColor'">
        <!-- pc显示方式 -->
        <template v-if="!$xsOnly">
            <!-- <v-card-title class="gradient-bg d-flex justify-center">
                <div class="text-20 font-weight-regular">{{LangUtil("业绩查询")}}</div>

                <v-btn icon @click="onClose">
                    <v-icon>mdi-close</v-icon>
                </v-btn>
            </v-card-title> -->
            <com-dialog-title title="业绩查询" @onClose="onClose" />

            <v-divider class="mb-2" />
            <v-card-text class="px-5">
                <div class="d-flex justify-space-around">
                    <div class="d-flex flex-wrap mt-2">
                        <div v-if="pageData.list.length>0" class="textGray--text text-16 ml-3 mb-3 d-flex flex-wrap listinfo">
                            <div>
                                {{LangUtil("总计")}} {{ pageData.list[pageData.list.length-1].date }} {{LangUtil("至")}} {{
                                pageData.list[0].date }}
                            </div>
                        </div>
                        <div v-if="summary" class="textGray--text text-16 ml-3 mb-3 d-flex flex-wrap listinfo">
                            <div>{{LangUtil("总业绩")}} {{ summary.total_water }}</div>
                            <div>{{LangUtil("团队总业绩")}} {{ summary.group_water }}</div>
                            <div>{{LangUtil("直属业绩")}} {{ summary.direct_water }}</div>
                            <div v-if="selfProxy.userInfo.is_credit_user == 98 && summary.total_commission">
                                {{LangUtil("总佣金")}} {{ summary.total_commission && summary.total_commission[coinName] }}
                            </div>
                        </div>
                    </div>
                    <v-sheet class="d-flex justify-end mb-2 time_item rounded10" :color="$vuetify.theme.dark ? '#333435' : '#F4F4F4'">
                        <CustomSelect
                            v-model="listOptions.timeSelect"
                            :options="listOptions.timeOptions()"
                            width="140"
                            @change="onTimeChange"
                        />
                    </v-sheet>
                </div>

                <template v-if="pageData.list.length>0">
                    <v-sheet color="transparent" class="d-flex flex-wrap justify-space-between mb-2 mx-2">
                        <v-sheet color="transparent" min-width="130" class="text-16 primary--text">{{LangUtil("时间")}}</v-sheet>
                        <v-sheet color="transparent" min-width="100" class="text-16 primary--text">{{LangUtil("总业绩")}}</v-sheet>
                        <v-sheet color="transparent" min-width="100" class="text-16 primary--text">{{LangUtil("团队业绩")}}</v-sheet>
                        <v-sheet color="transparent" min-width="100" class="text-16 primary--text">{{LangUtil("直属业绩")}}</v-sheet>
                        <v-sheet color="transparent" min-width="100" class="text-16 primary--text">{{LangUtil("总佣金")}}</v-sheet>
                        <v-sheet color="transparent" min-width="100" class="text-16 primary--text">{{LangUtil("")}}</v-sheet>
                    </v-sheet>
                    <v-sheet color="transparent" height="450" class="scroll-y">
                        <v-sheet
                            class="d-flex sheetOutlined mb-2"
                            width="100%"
                            min-height="40"
                            color="transparent"
                            v-for="(item, key) of pageData.list"
                            :key="key"
                        >
                            <v-sheet color="transparent" class="d-flex flex-wrap align-center justify-space-between mx-2" width="100%">
                                <v-sheet color="transparent" min-width="130" class="text-16 textGray--text text-truncate"
                                    >{{ item.date }}</v-sheet
                                >
                                <v-sheet color="transparent" min-width="100" class="text-16 textGray--text text-truncate"
                                    >{{item.total_water}}</v-sheet
                                >
                                <v-sheet color="transparent" min-width="100" class="text-16 textGray--text text-truncate"
                                    >{{item.group_water}}</v-sheet
                                >
                                <v-sheet color="transparent" min-width="100" class="text-16 textGray--text text-truncate"
                                    >{{item.direct_water}}</v-sheet
                                >
                                <v-sheet color="transparent" min-width="100" class="text-16 textGray--text text-truncate"
                                    >{{item.total_commission[coinName]}}</v-sheet
                                >
                                <v-sheet color="transparent" min-width="100" class="text-16 textGray--text text-truncate">
                                    <v-btn
                                        text
                                        class="text-decoration-underline pa-0 textYellow--text font-weight-regular"
                                        @click="handlerDetail(item.date)"
                                    >
                                        {{LangUtil("查看详情")}}
                                        <svg-icon icon="arrow_right"></svg-icon>
                                    </v-btn>
                                </v-sheet>
                            </v-sheet>
                        </v-sheet>
                    </v-sheet>
                </template>
                <ListNodata v-if="pageData.list.length == 0" height="411" />
            </v-card-text>
        </template>
        <template v-else>
            <!-- 手机显示方式 -->
            <!-- <v-card-text class="pb-0 px-0">
                <v-sheet class="gradient-bg_mob d-flex align-center  justify-center" color="bgNavigation">
                    <div class="text-16 primary--text">{{LangUtil("业绩查询")}}</div>
                    <v-btn icon @click="onClose">
                        <svg-icon icon="arrow_right" class="text-16 back_btn_icon primary--text"></svg-icon>
                    </v-btn>
                </v-sheet>
            </v-card-text> -->
            <com-dialog-title title="业绩查询" @onClose="onClose" />

            <!-- <v-divider class="mb-2 " /> -->
            <v-card-text class="px-2">
                <div class="d-flex my-2">
                    <v-btn-toggle :lang="core.lang" mandatory group v-model="listOptions.timeSelect" @change="onTimeChange">
                        <template v-for="(item, key) of listOptions.timeOptions()">
                            <v-btn class="rounded-pill" height="30" min-width="70" :key="key">
                                <span class="text-14"> {{item.name || item}} </span>
                            </v-btn>
                        </template>
                    </v-btn-toggle>
                </div>
                <v-sheet color="transparent" class="mx-3">
                    <div v-if="pageData.list.length>0" class="textGray--text d-flex flex-wrap listinfo">
                        <div>
                            {{LangUtil("总计")}} {{ pageData.list[pageData.list.length-1].date }} {{LangUtil("至")}} {{
                            pageData.list[0].date }}
                        </div>
                    </div>
                    <div v-if="summary" class="textGray--text d-flex flex-wrap listinfo">
                        <div>{{LangUtil("总业绩")}} {{ summary.total_water }}</div>
                        <div>{{LangUtil("团队总业绩")}} {{ summary.group_water }}</div>
                        <div>{{LangUtil("直属业绩")}} {{ summary.direct_water }}</div>
                    </div>
                    <div
                        class="textGray--text d-flex flex-wrap listinfo mb-3"
                        v-if="selfProxy.userInfo.is_credit_user == 98 && summary.total_commission"
                    >
                        <div>{{LangUtil("总佣金")}} {{ summary.total_commission[coinName] }}</div>
                    </div>
                </v-sheet>
                <!-- <v-sheet v-if="pageData.list.length>0" color="transparent" class="scroll-y"> -->
                <v-sheet v-if="pageData.list.length>0" color="transparent" class="overflow-y-auto" style="height: calc(100vh - 210px)">
                    <v-sheet
                        class="px-3 py-2 rounded10 mb-3 textGray--text"
                        color="bgBanner"
                        v-for="(item, key) of pageData.list"
                        :key="key"
                    >
                        <div class="d-flex justify-space-between">
                            <div class="primary--text">{{LangUtil("时间")}}</div>
                            <div>{{ item.date }}</div>
                        </div>
                        <div class="d-flex justify-space-between">
                            <div class="primary--text">{{LangUtil("总业绩")}}</div>
                            <div>{{ item.total_water }}</div>
                        </div>
                        <div class="d-flex justify-space-between">
                            <div class="primary--text">{{LangUtil("团队业绩")}}</div>
                            <div>{{ item.group_water }}</div>
                        </div>
                        <div class="d-flex justify-space-between">
                            <div class="primary--text">{{LangUtil("直属业绩")}}</div>
                            <div>{{ item.direct_water }}</div>
                        </div>
                        <div class="d-flex justify-space-between" v-if="selfProxy.userInfo.is_credit_user == 98">
                            <div class="primary--text">{{LangUtil("总佣金")}}</div>
                            <div>{{ item.total_commission[coinName] }}</div>
                        </div>
                        <div class="d-flex align-end justify-end listitem-90">
                            <v-btn
                                text
                                height="20"
                                class="text-decoration-underline pa-0 textYellow--text font-weight-regular"
                                @click="handlerDetail(item.date)"
                            >
                                {{LangUtil("查看详情")}}
                                <svg-icon icon="arrow_right"></svg-icon>
                            </v-btn>
                        </div>
                    </v-sheet>

                    <ListNodata v-if="pageData.list.length == 0" />
                </v-sheet>
            </v-card-text>
        </template>
    </v-card>
    <Overlay v-model="pageData.loading" />
</v-dialog>
